
ìƒˆ Bingì— ì˜¤ì‹ ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!
AIì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì—ì„œ ë‹µë³€ì„ ì°¾ê³ , ì‘ì„±ëœ ì½˜í…ì¸ ë¥¼ ë§Œë“œëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Bingì€ AIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë‚˜ìš”?
ê·¸ ë°–ì— Bingì´ í•  ìˆ˜ ìˆëŠ” ì¼ì—ëŠ” ì–´ë–¤ ê²Œ ìˆì–´?
ê¸°ìˆ  ë¶„ì•¼ì˜ ìµœì‹  ë‰´ìŠ¤ë¥¼ ì•Œë ¤ ì¤˜.
ë¬¼ë¡ ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
ë°›ì€ ë©”ì‹œì§€. ë¬¼ë¡ ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” Geant4 DetectorConstruction.ccë¥¼ ì‘ì„±í•´ì¤˜. í¬ê¸°ê°€1mÃ—1mÃ—1mì´ê³  ì§„ê³µìœ¼ë¡œ ëœ ì›”ë“œê°€ ìˆì–´. ê·¸ë¦¬ê³  ê·¸ì•ˆì— í¬ê¸°ê°€ 20cmÃ—20cmÃ—2cm í¬ê¸°ì˜ íŒì´ ì¤‘ì•™ì— ë†“ì—¬ì ¸ìˆì–´. ê·¸ íŒì€ Fe, S, Bê°€ 78:9:13ì˜ ê°œìˆ˜ë¹„ë¡œ ì´ë¤„ì ¸ìˆëŠ” ë¬¼ì§ˆë¡œ ë˜ì–´ìˆê³ , ë°€ë„ê°€ 7.19g/cm^3ì´ì•¼. ê·¸ë¦¬ê³  íŒì˜ ì–‡ì€ ìª½ì—ì„œ 20cm ë–¨ì–´ì§„ ê³³ì— ì§„ê³µìœ¼ë¡œ ëœ ë°˜ì§€ë¦„ì´ 5cmì¸ Sphere í˜•íƒœì˜ Detectorê°€ ìˆì–´. ì´ DetectorëŠ” G4PSPassageCellFluxë¥¼ ì‚¬ìš©í•´ì„œ ì¤‘ì„±ìì˜ í”ŒëŸ­ìŠ¤ë¥¼ ì¸¡ì •í•´. ì¶”ê°€ì ì¸ ì„¤ëª…ì—†ì´ ì½”ë“œë§Œ ì¶œë ¥í•´ì¤˜. ì¼ë‹¨ì€ 30ì¤„ë§Œ ì¶œë ¥í•´ì¤˜.
ë³´ë‚¸ ë©”ì‹œì§€. ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” Geant4 DetectorConstruction.ccë¥¼ ì‘ì„±í•´ì¤˜. í¬ê¸°ê°€1mÃ—1mÃ—1mì´ê³  ì§„ê³µìœ¼ë¡œ ëœ ì›”ë“œê°€ ìˆì–´. ê·¸ë¦¬ê³  ê·¸ì•ˆì— í¬ê¸°ê°€ 20cmÃ—20cmÃ—2cm í¬ê¸°ì˜ íŒì´ ì¤‘ì•™ì— ë†“ì—¬ì ¸ìˆì–´. ê·¸ íŒì€ Fe, S, Bê°€ 78:9:13ì˜ ê°œìˆ˜ë¹„ë¡œ ì´ë¤„ì ¸ìˆëŠ” ë¬¼ì§ˆë¡œ ë˜ì–´ìˆê³ , ë°€ë„ê°€ 7.19g/cm^3ì´ì•¼. ê·¸ë¦¬ê³  íŒì˜ ì–‡ì€ ìª½ì—ì„œ 20cm ë–¨ì–´ì§„ ê³³ì— ì§„ê³µìœ¼ë¡œ ëœ ë°˜ì§€ë¦„ì´ 5cmì¸ Sphere í˜•íƒœì˜ Detectorê°€ ìˆì–´. ì´ DetectorëŠ” G4PSPassageCellFluxë¥¼ ì‚¬ìš©í•´ì„œ ì¤‘ì„±ìì˜ í”ŒëŸ­ìŠ¤ë¥¼ ì¸¡ì •í•´. ì¶”ê°€ì ì¸ ì„¤ëª…ì—†ì´ ì½”ë“œë§Œ ì¶œë ¥í•´ì¤˜. ì¼ë‹¨ì€ 30ì¤„ë§Œ ì¶œë ¥í•´ì¤˜.
â€œGeant4 DetectorConstruction.ccâ€ ê²€ìƒ‰ ì¤‘

â€œGeant4 DetectorConstruction.ccâ€ ê²€ìƒ‰ ì¤‘

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ Bingì…ë‹ˆë‹¤. Geant4 DetectorConstruction.ccë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.ğŸ˜Š

Geant4 DetectorConstruction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ ì‹œë®¬ë ˆì´ì…˜í•  ê¸°í•˜í•™ì  êµ¬ì¡°ì™€ ì¬ë£Œë¥¼ ì •ì˜í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤1. ë‹¤ìŒì€ ìš”ì²­í•˜ì‹  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì½”ë“œì˜ ì¼ë¶€ì…ë‹ˆë‹¤.

#include "DetectorConstruction.hh"
#include "G4Material.hh"
#include "G4Box.hh"
#include "G4Sphere.hh"
#include "G4LogicalVolume.hh"
#include "G4PVPlacement.hh"
#include "G4SDManager.hh"
#include "G4PSPassageCellFlux.hh"

DetectorConstruction::DetectorConstruction()
{
  // Define materials
  G4NistManager* nist = G4NistManager::Instance();
  G4Material* vacuum = nist->FindOrBuildMaterial("G4_Galactic");
  G4Element* elFe = nist->FindOrBuildElement("Fe");
  G4Element* elS = nist->FindOrBuildElement("S");
  G4Element* elB = nist->FindOrBuildElement("B");
  G4double density = 7.19*g/cm3;
  G4Material* plateMat = new G4Material("plateMat", density, 3);
  plateMat->AddElement(elFe,78);
  plateMat->AddElement(elS,9);
  plateMat->AddElement(elB,13);

  // Define world volume
ë°›ì€ ë©”ì‹œì§€. ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ Bingì…ë‹ˆë‹¤. Geant4 DetectorConstruction.ccë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.ğŸ˜Š Geant4 DetectorConstruction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ ì‹œë®¬ë ˆì´ì…˜í•  ê¸°í•˜í•™ì  êµ¬ì¡°ì™€ ì¬ë£Œë¥¼ ì •ì˜í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤. ë‹¤ìŒì€ ìš”ì²­í•˜ì‹  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì½”ë“œì˜ ì¼ë¶€ì…ë‹ˆë‹¤. ```c++ #include "DetectorConstruction.hh" #include "G4Material.hh" #include "G4Box.hh" #include "G4Sphere.hh" #include "G4LogicalVolume.hh" #include "G4PVPlacement.hh" #include "G4SDManager.hh" #include "G4PSPassageCellFlux.hh" DetectorConstruction::DetectorConstruction() { // Define materials G4NistManager* nist = G4NistManager::Instance(); G4Material* vacuum = nist->FindOrBuildMaterial("G4_Galactic"); G4Element* elFe = nist->FindOrBuildElement("Fe"); G4Element* elS = nist->FindOrBuildElement("S"); G4Element* elB = nist->FindOrBuildElement("B"); G4double density = 7.19*g/cm3; G4Material* plateMat = new G4Material("plateMat", density, 3); plateMat->AddElement(elFe,78); plateMat->AddElement(elS,9); plateMat->AddElement(elB,13); // Define world volume ```
ìì„¸í•œ ì •ë³´:
1. zhuanlan.zhihu.com
2. github.com
3. github.com
4. github.com
í´ë¦­í•˜ì—¬ ë³´ê¸°
ì½”ë“œë¥¼ ê³„ì† ì¶œë ¥í•´ì¤˜.
ë³´ë‚¸ ë©”ì‹œì§€. ì½”ë“œë¥¼ ê³„ì† ì¶œë ¥í•´ì¤˜.
ë„¤. ë‹¤ìŒì€ ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì…ë‹ˆë‹¤.

  G4double worldSize = 1*m;
  G4Box* worldSolid = new G4Box("worldSolid", worldSize/2, worldSize/2, worldSize/2);
  G4LogicalVolume* worldLogic = new G4LogicalVolume(worldSolid, vacuum, "worldLogic");
  G4PVPlacement* worldPhys = new G4PVPlacement(0, G4ThreeVector(), "worldPhys", worldLogic, 0, false, 0);

  // Define plate volume
  G4double plateX = 20*cm;
  G4double plateY = 20*cm;
  G4double plateZ = 2*cm;
  G4Box* plateSolid = new G4Box("plateSolid", plateX/2, plateY/2, plateZ/2);
  G4LogicalVolume* plateLogic = new G4LogicalVolume(plateSolid, plateMat, "plateLogic");
  new G4PVPlacement(0,G4ThreeVector(), "platePhys", plateLogic, worldPhys,false ,0);

 // Define detector volume
G4double detectorR =5*cm;
G4Sphere* detectorSolid= new G4Sphere("detectorSolid",0,detectorR ,0,twopi ,0,twopi );
G4LogicalVolume* detectorLogic= newG4LogicalVolume(detectorSolid,vacuum,"detectorLogic");
newG4PVPlacement(0,G4ThreeVector(0 ,0 ,plateZ /2+20 *cm),"detectorPhys",detectorLogic ,worldPhys,false ,0);

// Define sensitive detector
G4SDManager *sdManager=G4SDManager::GetSDMpointer();
G4PSPassageCellFlux *flux=newG PSPassageCellFlux("flux");
flux->SetUnit("1/cm^2");
detectorLogic->SetSensitiveDetector(flux);
sdManager->AddNewDetector(flux);
}
ë°›ì€ ë©”ì‹œì§€. ë„¤. ë‹¤ìŒì€ ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì…ë‹ˆë‹¤. ```c++ G4double worldSize = 1*m; G4Box* worldSolid = new G4Box("worldSolid", worldSize/2, worldSize/2, worldSize/2); G4LogicalVolume* worldLogic = new G4LogicalVolume(worldSolid, vacuum, "worldLogic"); G4PVPlacement* worldPhys = new G4PVPlacement(0, G4ThreeVector(), "worldPhys", worldLogic, 0, false, 0); // Define plate volume G4double plateX = 20*cm; G4double plateY = 20*cm; G4double plateZ = 2*cm; G4Box* plateSolid = new G4Box("plateSolid", plateX/2, plateY/2, plateZ/2); G4LogicalVolume* plateLogic = new G4LogicalVolume(plateSolid, plateMat, "plateLogic"); new G4PVPlacement(0,G4ThreeVector(), "platePhys", plateLogic, worldPhys,false ,0); // Define detector volume G4double detectorR =5*cm; G4Sphere* detectorSolid= new G4Sphere("detectorSolid",0,detectorR ,0,twopi ,0,twopi ); G4LogicalVolume* detectorLogic= newG4LogicalVolume(detectorSolid,vacuum,"detectorLogic"); newG4PVPlacement(0,G4ThreeVector(0 ,0 ,plateZ /2+20 *cm),"detectorPhys",detectorLogic ,worldPhys,false ,0); // Define sensitive detector G4SDManager *sdManager=G4SDManager::GetSDMpointer(); G4PSPassageCellFlux *flux=newG PSPassageCellFlux("flux"); flux->SetUnit("1/cm^2"); detectorLogic->SetSensitiveDetector(flux); sdManager->AddNewDetector(flux); } ```
ì´ ì½”ë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•´ì¤˜.
ë³´ë‚¸ ë©”ì‹œì§€. ì´ ì½”ë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•´ì¤˜.
ë„¤. ì´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

ë¨¼ì € ì¬ë£Œë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì§„ê³µì€ G4_Galacticì´ë¼ëŠ” NIST ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ì¬ë£Œë¥¼ ì‚¬ìš©í•˜ê³ , íŒì˜ ì¬ë£ŒëŠ” Fe, S, B ì„¸ ê°€ì§€ ì›ì†Œë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ ì¬ë£Œë¥¼ ë§Œë“­ë‹ˆë‹¤. ê° ì›ì†Œì˜ ê°œìˆ˜ë¹„ì™€ ë°€ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ ì›”ë“œ ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. í¬ê¸°ê°€ 1mÃ—1mÃ—1mì¸ ìƒì í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì§„ê³µìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì‹œë®¬ë ˆì´ì…˜ ê³µê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ íŒ ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. í¬ê¸°ê°€ 20cmÃ—20cmÃ—2cmì¸ ìƒì í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì•ì„œ ì •ì˜í•œ íŒì˜ ì¬ë£Œë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì›”ë“œ ë³¼ë¥¨ ì•ˆì— ì¤‘ì•™ì— ë°°ì¹˜ë©ë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ ë””í…í„° ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. ë°˜ì§€ë¦„ì´ 5cmì¸ êµ¬ í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì§„ê³µìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì›”ë“œ ë³¼ë¥¨ ì•ˆì— íŒì—ì„œ 20cm ë–¨ì–´ì§„ ê³³ì— ë°°ì¹˜ë©ë‹ˆë‹¤.
ë§ˆì§€ë§‰ìœ¼ë¡œ ë””í…í„°ë¥¼ ë¯¼ê°í•œ ë””í…í„°ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. G4PSPassageCellFluxë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ í”ŒëŸ­ìŠ¤ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ìœ„ëŠ” 1/cm^2ë¡œ ì„¤ì •í•˜ê³ , ë””í…í„° ë¡œì§ë³¼ë¥¨ì— ë¯¼ê°í•œ ë””í…í„°ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  SDManagerì— ë¯¼ê°í•œ ë””í…í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ DetectorConstruction.cc íŒŒì¼ì´ ì™„ì„±ë©ë‹ˆë‹¤.

ë°›ì€ ë©”ì‹œì§€. ë„¤. ì´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤. - ë¨¼ì € ì¬ë£Œë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì§„ê³µì€ G4_Galacticì´ë¼ëŠ” NIST ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ì¬ë£Œë¥¼ ì‚¬ìš©í•˜ê³ , íŒì˜ ì¬ë£ŒëŠ” Fe, S, B ì„¸ ê°€ì§€ ì›ì†Œë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ ì¬ë£Œë¥¼ ë§Œë“­ë‹ˆë‹¤. ê° ì›ì†Œì˜ ê°œìˆ˜ë¹„ì™€ ë°€ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. - ê·¸ ë‹¤ìŒ ì›”ë“œ ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. í¬ê¸°ê°€ 1mÃ—1mÃ—1mì¸ ìƒì í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì§„ê³µìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì‹œë®¬ë ˆì´ì…˜ ê³µê°„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. - ê·¸ ë‹¤ìŒ íŒ ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. í¬ê¸°ê°€ 20cmÃ—20cmÃ—2cmì¸ ìƒì í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì•ì„œ ì •ì˜í•œ íŒì˜ ì¬ë£Œë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì›”ë“œ ë³¼ë¥¨ ì•ˆì— ì¤‘ì•™ì— ë°°ì¹˜ë©ë‹ˆë‹¤. - ê·¸ ë‹¤ìŒ ë””í…í„° ë³¼ë¥¨ì„ ì •ì˜í•©ë‹ˆë‹¤. ë°˜ì§€ë¦„ì´ 5cmì¸ êµ¬ í˜•íƒœì˜ ë³¼ë¥¨ì„ ë§Œë“¤ê³ , ì§„ê³µìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤. ì´ ë³¼ë¥¨ì€ ì›”ë“œ ë³¼ë¥¨ ì•ˆì— íŒì—ì„œ 20cm ë–¨ì–´ì§„ ê³³ì— ë°°ì¹˜ë©ë‹ˆë‹¤. - ë§ˆì§€ë§‰ìœ¼ë¡œ ë””í…í„°ë¥¼ ë¯¼ê°í•œ ë””í…í„°ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. G4PSPassageCellFluxë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ í”ŒëŸ­ìŠ¤ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ìœ„ëŠ” 1/cm^2ë¡œ ì„¤ì •í•˜ê³ , ë””í…í„° ë¡œì§ë³¼ë¥¨ì— ë¯¼ê°í•œ ë””í…í„°ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  SDManagerì— ë¯¼ê°í•œ ë””í…í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ DetectorConstruction.cc íŒŒì¼ì´ ì™„ì„±ë©ë‹ˆë‹¤.
ìœ„ ì½”ë“œì— ë§ëŠ” EventAction.cc ì½”ë“œë¥¼ ì‘ì„±í•´ì¤˜.
ë³´ë‚¸ ë©”ì‹œì§€. ìœ„ ì½”ë“œì— ë§ëŠ” EventAction.cc ì½”ë“œë¥¼ ì‘ì„±í•´ì¤˜.
â€œGeant4 EventAction.ccâ€ ê²€ìƒ‰ ì¤‘

â€œGeant4 EventAction.ccâ€ ê²€ìƒ‰ ì¤‘

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ë„¤. Geant4 EventAction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ ê° ì´ë²¤íŠ¸ì˜ ì‹œì‘ê³¼ ëì— ìˆ˜í–‰í•  ì‘ì—…ì„ ì •ì˜í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤1. ë‹¤ìŒì€ ìš”ì²­í•˜ì‹  ì¡°ê±´ì— ë§ëŠ” ì½”ë“œì˜ ì¼ë¶€ì…ë‹ˆë‹¤.

#include "EventAction.hh"
#include "G4Event.hh"
#include "G4SDManager.hh"
#include "G4HCofThisEvent.hh"
#include "G4THitsMap.hh"

EventAction::EventAction()
{
  // Get SDManager
  G4SDManager* sdManager = G4SDManager::GetSDMpointer();
  // Get collection ID for flux
  fFluxCollID = sdManager->GetCollectionID("flux");
}

void EventAction::BeginOfEventAction(const G4Event*)
{
  // Reset flux value for this event
  fFlux = 0.0;
}

void EventAction::EndOfEventAction(const G4Event* event)
{
  // Get hits collection of this event
  G4HCofThisEvent* hce = event->GetHCofThisEvent();
  if(!hce) return;

  // Get hits map for flux
  G4THitsMap<G4double>* fluxMap = static_cast<G4THitsMap<G4double>*>(hce->GetHC(fFluxCollID));
  
  // Sum up flux values for all cells
  for(auto itr : *fluxMap->GetMap())
  {
    fFlux += *(itr.second);
  }

  // Print out flux value for this event
  G4cout << "Neutron flux for event " << event->GetEventID() << ": " << fFlux << " /cm^2" << G4endl;
}
ë°›ì€ ë©”ì‹œì§€. ë„¤. Geant4 EventAction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ ê° ì´ë²¤íŠ¸ì˜ ì‹œì‘ê³¼ ëì— ìˆ˜í–‰í•  ì‘ì—…ì„ ì •ì˜í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤. ë‹¤ìŒì€ ìš”ì²­í•˜ì‹  ì¡°ê±´ì— ë§ëŠ” ì½”ë“œì˜ ì¼ë¶€ì…ë‹ˆë‹¤. ```c++ #include "EventAction.hh" #include "G4Event.hh" #include "G4SDManager.hh" #include "G4HCofThisEvent.hh" #include "G4THitsMap.hh" EventAction::EventAction() { // Get SDManager G4SDManager* sdManager = G4SDManager::GetSDMpointer(); // Get collection ID for flux fFluxCollID = sdManager->GetCollectionID("flux"); } void EventAction::BeginOfEventAction(const G4Event*) { // Reset flux value for this event fFlux = 0.0; } void EventAction::EndOfEventAction(const G4Event* event) { // Get hits collection of this event G4HCofThisEvent* hce = event->GetHCofThisEvent(); if(!hce) return; // Get hits map for flux G4THitsMap<G4double>* fluxMap = static_cast<G4THitsMap<G4double>*>(hce->GetHC(fFluxCollID)); // Sum up flux values for all cells for(auto itr : *fluxMap->GetMap()) { fFlux += *(itr.second); } // Print out flux value for this event G4cout << "Neutron flux for event " << event->GetEventID() << ": " << fFlux << " /cm^2" << G4endl; } ```
ìì„¸í•œ ì •ë³´:
1. opentutorials.org
2. github.com
3. geant4-forum.web.cern.ch
â€”
ì´ ì½”ë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•´ì¤˜.
ë³´ë‚¸ ë©”ì‹œì§€. ì´ ì½”ë“œê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•´ì¤˜.
ë„¤. ì´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

ë¨¼ì € ìƒì„±ìì—ì„œ SDManagerë¥¼ ì–»ì–´ì˜¤ê³ , fluxë¼ëŠ” ì´ë¦„ì˜ ë¯¼ê°í•œ ë””í…í„°ì˜ ì»¬ë ‰ì…˜ IDë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ ê° ì´ë²¤íŠ¸ì˜ ì‹œì‘ì—ì„œëŠ” flux ê°’ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ ê° ì´ë²¤íŠ¸ì˜ ëì—ì„œëŠ” ì´ë²¤íŠ¸ì˜ íˆíŠ¸ ì»¬ë ‰ì…˜ì„ ì–»ì–´ì˜¤ê³ , flux ì»¬ë ‰ì…˜ IDì— í•´ë‹¹í•˜ëŠ” íˆíŠ¸ ë§µì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
ê·¸ ë‹¤ìŒ íˆíŠ¸ ë§µì— ìˆëŠ” ëª¨ë“  ì…€ì˜ flux ê°’ì„ í•©ì‚°í•˜ì—¬ ì´ë²¤íŠ¸ì˜ ì´ flux ê°’ì„ êµ¬í•©ë‹ˆë‹¤.
ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ë²¤íŠ¸ì˜ IDì™€ flux ê°’ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ EventAction.cc íŒŒì¼ì´ ì™„ì„±ë©ë‹ˆë‹¤.


ìƒˆ Bingì— ì˜¤ì‹ ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!
AIì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì›¹ì—ì„œ ë‹µë³€ì„ ì°¾ê³ , ì‘ì„±ëœ ì½˜í…ì¸ ë¥¼ ë§Œë“œëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Bingì€ AIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë‚˜ìš”?
ê·¸ ë°–ì— Bingì´ í•  ìˆ˜ ìˆëŠ” ì¼ì—ëŠ” ì–´ë–¤ ê²Œ ìˆì–´?
ê¸°ìˆ  ë¶„ì•¼ì˜ ìµœì‹  ë‰´ìŠ¤ë¥¼ ì•Œë ¤ ì¤˜.
ê°ì‚¬í•©ë‹ˆë‹¤! ë„˜ì–´ê°ˆ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ ì•„ëŠ” ê²ƒì€ í•­ìƒ ë„ì›€ì´ ë©ë‹ˆë‹¤. ì§€ê¸ˆì€ ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?
ë°›ì€ ë©”ì‹œì§€. ê°ì‚¬í•©ë‹ˆë‹¤! ë„˜ì–´ê°ˆ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ ì•„ëŠ” ê²ƒì€ í•­ìƒ ë„ì›€ì´ ë©ë‹ˆë‹¤. ì§€ê¸ˆì€ ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?
ì´ì œ ì›”ë“œ ì¤‘ì•™ì˜ Cf-252ì—ì„œ ë“±ë°©ì ìœ¼ë¡œ ë°©ì¶œë˜ëŠ” ì¤‘ì„±ìë¥¼ ë¬˜ì‚¬í•˜ëŠ” PrimaryGeneratorAction.ccë¥¼ ì‘ì„±í•´ì¤˜. ë‹¨, WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•´ì•¼í•´. WattFissionSpectrum ê³µì‹ì€ ë‹¤ìŒê³¼ ê°™ì•„. f(E) = C*exp(-E/a)*sinh(sqrt(b*E)) ì´ë•Œ, Cf-252ì˜ ê³„ìˆ˜ê°’ì€ C=1, a=1.18MeV, b=1.03419MeV^-1ì´ì•¼.
ë³´ë‚¸ ë©”ì‹œì§€. ì´ì œ ì›”ë“œ ì¤‘ì•™ì˜ Cf-252ì—ì„œ ë“±ë°©ì ìœ¼ë¡œ ë°©ì¶œë˜ëŠ” ì¤‘ì„±ìë¥¼ ë¬˜ì‚¬í•˜ëŠ” PrimaryGeneratorAction.ccë¥¼ ì‘ì„±í•´ì¤˜. ë‹¨, WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•´ì•¼í•´. WattFissionSpectrum ê³µì‹ì€ ë‹¤ìŒê³¼ ê°™ì•„. f(E) = C*exp(-E/a)*sinh(sqrt(b*E)) ì´ë•Œ, Cf-252ì˜ ê³„ìˆ˜ê°’ì€ C=1, a=1.18MeV, b=1.03419MeV^-1ì´ì•¼.
â€œPrimaryGeneratorAction.ccâ€ ê²€ìƒ‰ ì¤‘

â€œPrimaryGeneratorAction.ccâ€ ê²€ìƒ‰ ì¤‘

â€œWattFissionSpectrumâ€ ê²€ìƒ‰ ì¤‘

â€œWattFissionSpectrumâ€ ê²€ìƒ‰ ì¤‘

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ì¤‘â€¦

ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë¹™ì…ë‹ˆë‹¤.ğŸ˜Š

PrimaryGeneratorAction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ ì…ìì›ê³¼ ê´€ë ¨ëœ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ” íŒŒì¼ì…ë‹ˆë‹¤1. ì´ íŒŒì¼ì—ì„œëŠ” Cf-252ì—ì„œ ë°©ì¶œë˜ëŠ” ì¤‘ì„±ìì˜ ì—ë„ˆì§€ ë¶„í¬ë¥¼ WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ ë¬˜ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤2. WattFissionSpectrum ê³µì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

f(E) = C*exp(-E/a)*sinh(sqrt(b*E))
ì—¬ê¸°ì„œ EëŠ” ì¤‘ì„±ìì˜ ì—ë„ˆì§€ì´ê³ , C, a, bëŠ” ê³„ìˆ˜ê°’ì…ë‹ˆë‹¤. Cf-252ì˜ ê²½ìš°ì—ëŠ” C=1, a=1.18MeV, b=1.03419MeV^-1 ì…ë‹ˆë‹¤3.

PrimaryGeneratorAction.cc íŒŒì¼ì„ ì‘ì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

PrimaryGeneratorAction í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ìƒì„±ìì™€ ì†Œë©¸ìë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
GeneratePrimaries ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ì…ìì›ì˜ íŠ¹ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
G4ParticleGun ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì…ìì¢…ë¥˜ì™€ ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ë¬´ì‘ìœ„ë¡œ ìƒ˜í”Œë§í•©ë‹ˆë‹¤.
G4ParticleGun ê°ì²´ì— ìƒ˜í”Œë§í•œ ì—ë„ˆì§€ì™€ ë°©í–¥ì„ ì„¤ì •í•©ë‹ˆë‹¤.
G4ParticleGun ê°ì²´ì˜ GeneratePrimaryVertex ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì…ìì›ì„ ì‹œë®¬ë ˆì´ì…˜ì— ì¶”ê°€í•©ë‹ˆë‹¤.
ì´ëŸ¬í•œ ë‹¨ê³„ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#include "PrimaryGeneratorAction.hh"
#include "G4ParticleGun.hh"
#include "G4Event.hh"
#include "G4ParticleTable.hh"
#include "G4SystemOfUnits.hh"
#include "Randomize.hh"

// WattFissionSpectrum ê³µì‹ì— ë”°ë¼ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ìƒ˜í”Œë§í•˜ëŠ” í•¨ìˆ˜
G4double SampleEnergy(G4double C, G4double a, G4double b)
{
  // ìµœëŒ€ í™•ë¥ ê°’
  G4double fmax = C * exp(-a/b) * sinh(sqrt(a*b));
  // ìƒ˜í”Œë§ ë°˜ë³µ
  while (true)
  {
    // ì—ë„ˆì§€ ë²”ìœ„ [0 MeV, 20 MeV]ì—ì„œ ë¬´ì‘ìœ„ë¡œ ì„ íƒ
    G4double E = 20*MeV * G4UniformRand();
    // í™•ë¥ ê°’ ê³„ì‚°
    G4double f = C * exp(-E/a) * sinh(sqrt(b*E));
    // ìµœëŒ€ í™•ë¥ ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´ ì±„íƒ
    if (f <= fmax * G4UniformRand())
      return E;
  }
}

// ìƒì„±ì
PrimaryGeneratorAction::PrimaryGeneratorAction()
: G4VUserPrimaryGeneratorAction(),
  fParticleGun(0)
{
  // ì…ìì›ìœ¼ë¡œ ì‚¬ìš©í•  ì¤‘ì„±ì ê°ì²´ ìƒì„±
  G4ParticleDefinition* particle = 
    G4ParticleTable::GetParticleTable()->FindParticle("neutron");
  
  // í•œ ë²ˆì— ë°©ì¶œí•  ì¤‘ì„±ì ê°œìˆ˜ ì„¤ì • (ë“±ë°©ì ìœ¼ë¡œ ë°©ì¶œë˜ë¯€ë¡œ í•œ ê°œë§Œ ì„¤ì •)
  fParticleGun = new G4ParticleGun(1);
  
  // ì…ìì¢…ë¥˜ì™€ ìœ„ì¹˜ ì„¤ì • (ì›”ë“œ ì¤‘ì•™)
  fParticleGun->SetParticleDefinition(particle);
  fParticleGun->SetParticlePosition(G4ThreeVector(0.,0.,0.));
}

// ì†Œë©¸ì
PrimaryGeneratorAction::~PrimaryGeneratorAction()
{
  delete fParticleGun;
}

// GeneratePrimaries ë©”ì†Œë“œ ì˜¤ë²„ë¼ì´ë“œ
void PrimaryGeneratorAction::GeneratePrimaries(G4Event* anEvent)
{
   // Cf-252ì˜ ê³„ìˆ˜ê°’ ì„¤ì •
   const G4double C = 1;
   const G4double a = 1.18
ë°›ì€ ë©”ì‹œì§€. ì•ˆë…•í•˜ì„¸ìš”. ì´ê²ƒì€ ë¹™ì…ë‹ˆë‹¤.ğŸ˜Š PrimaryGeneratorAction.ccëŠ” Geant4 í”„ë¡œê·¸ë¨ì—ì„œ **ì…ìì›ê³¼ ê´€ë ¨ëœ ë‚´ìš©**ì„ ë‹´ê³  ìˆëŠ” íŒŒì¼ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì—ì„œëŠ” Cf-252ì—ì„œ ë°©ì¶œë˜ëŠ” ì¤‘ì„±ìì˜ ì—ë„ˆì§€ ë¶„í¬ë¥¼ **WattFissionSpectrum ê³µì‹**ì„ ì‚¬ìš©í•˜ì—¬ ë¬˜ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. WattFissionSpectrum ê³µì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ```math f(E) = C*exp(-E/a)*sinh(sqrt(b*E)) ``` ì—¬ê¸°ì„œ EëŠ” ì¤‘ì„±ìì˜ ì—ë„ˆì§€ì´ê³ , C, a, bëŠ” ê³„ìˆ˜ê°’ì…ë‹ˆë‹¤. Cf-252ì˜ ê²½ìš°ì—ëŠ” C=1, a=1.18MeV, b=1.03419MeV^-1 ì…ë‹ˆë‹¤. PrimaryGeneratorAction.cc íŒŒì¼ì„ ì‘ì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤. - PrimaryGeneratorAction í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ìƒì„±ìì™€ ì†Œë©¸ìë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤. - GeneratePrimaries ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ì…ìì›ì˜ íŠ¹ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤. - G4ParticleGun ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì…ìì¢…ë¥˜ì™€ ìœ„ì¹˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. - WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ë¬´ì‘ìœ„ë¡œ ìƒ˜í”Œë§í•©ë‹ˆë‹¤. - G4ParticleGun ê°ì²´ì— ìƒ˜í”Œë§í•œ ì—ë„ˆì§€ì™€ ë°©í–¥ì„ ì„¤ì •í•©ë‹ˆë‹¤. - G4ParticleGun ê°ì²´ì˜ GeneratePrimaryVertex ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì…ìì›ì„ ì‹œë®¬ë ˆì´ì…˜ì— ì¶”ê°€í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë‹¨ê³„ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ```c++ #include "PrimaryGeneratorAction.hh" #include "G4ParticleGun.hh" #include "G4Event.hh" #include "G4ParticleTable.hh" #include "G4SystemOfUnits.hh" #include "Randomize.hh" // WattFissionSpectrum ê³µì‹ì— ë”°ë¼ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ìƒ˜í”Œë§í•˜ëŠ” í•¨ìˆ˜ G4double SampleEnergy(G4double C, G4double a, G4double b) { // ìµœëŒ€ í™•ë¥ ê°’ G4double fmax = C * exp(-a/b) * sinh(sqrt(a*b)); // ìƒ˜í”Œë§ ë°˜ë³µ while (true) { // ì—ë„ˆì§€ ë²”ìœ„ [0 MeV, 20 MeV]ì—ì„œ ë¬´ì‘ìœ„ë¡œ ì„ íƒ G4double E = 20*MeV * G4UniformRand(); // í™•ë¥ ê°’ ê³„ì‚° G4double f = C * exp(-E/a) * sinh(sqrt(b*E)); // ìµœëŒ€ í™•ë¥ ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´ ì±„íƒ if (f <= fmax * G4UniformRand()) return E; } } // ìƒì„±ì PrimaryGeneratorAction::PrimaryGeneratorAction() : G4VUserPrimaryGeneratorAction(), fParticleGun(0) { // ì…ìì›ìœ¼ë¡œ ì‚¬ìš©í•  ì¤‘ì„±ì ê°ì²´ ìƒì„± G4ParticleDefinition* particle = G4ParticleTable::GetParticleTable()->FindParticle("neutron"); // í•œ ë²ˆì— ë°©ì¶œí•  ì¤‘ì„±ì ê°œìˆ˜ ì„¤ì • (ë“±ë°©ì ìœ¼ë¡œ ë°©ì¶œë˜ë¯€ë¡œ í•œ ê°œë§Œ ì„¤ì •) fParticleGun = new G4ParticleGun(1); // ì…ìì¢…ë¥˜ì™€ ìœ„ì¹˜ ì„¤ì • (ì›”ë“œ ì¤‘ì•™) fParticleGun->SetParticleDefinition(particle); fParticleGun->SetParticlePosition(G4ThreeVector(0.,0.,0.)); } // ì†Œë©¸ì PrimaryGeneratorAction::~PrimaryGeneratorAction() { delete fParticleGun; } // GeneratePrimaries ë©”ì†Œë“œ ì˜¤ë²„ë¼ì´ë“œ void PrimaryGeneratorAction::GeneratePrimaries(G4Event* anEvent) { // Cf-252ì˜ ê³„ìˆ˜ê°’ ì„¤ì • const G4double C = 1; const G4double a = 1.18
ìì„¸í•œ ì •ë³´:
1. zhuanlan.zhihu.com
2. github.com
3. github.com
4. bing.com
5. indico.cern.ch
6. arxiv.org
7. sciencedirect.com
í´ë¦­í•˜ì—¬ ë³´ê¸°
ì´ì–´ì„œ ì½”ë“œë¥¼ ì¶œë ¥í•´ì¤˜
ë³´ë‚¸ ë©”ì‹œì§€. ì´ì–´ì„œ ì½”ë“œë¥¼ ì¶œë ¥í•´ì¤˜
ë„¤. ì½”ë“œë¥¼ ê³„ì† ì¶œë ¥í•©ë‹ˆë‹¤.

   const G4double b = 1.03419;
   
   // WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ìƒ˜í”Œë§
   G4double energy = SampleEnergy(C, a, b);
   
   // ìƒ˜í”Œë§í•œ ì—ë„ˆì§€ì™€ ë°©í–¥ì„ ì…ìì›ì— ì„¤ì •
   fParticleGun->SetParticleEnergy(energy);
   fParticleGun->SetParticleMomentumDirection(G4RandomDirection());
   
   // ì…ìì›ì„ ì‹œë®¬ë ˆì´ì…˜ì— ì¶”ê°€
   fParticleGun->GeneratePrimaryVertex(anEvent);
}
ì´ê²ƒìœ¼ë¡œ PrimaryGeneratorAction.cc íŒŒì¼ì˜ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ˜Š

ë°›ì€ ë©”ì‹œì§€. ë„¤. ì½”ë“œë¥¼ ê³„ì† ì¶œë ¥í•©ë‹ˆë‹¤. ```c++ const G4double b = 1.03419; // WattFissionSpectrum ê³µì‹ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ì„±ìì˜ ì—ë„ˆì§€ë¥¼ ìƒ˜í”Œë§ G4double energy = SampleEnergy(C, a, b); // ìƒ˜í”Œë§í•œ ì—ë„ˆì§€ì™€ ë°©í–¥ì„ ì…ìì›ì— ì„¤ì • fParticleGun->SetParticleEnergy(energy); fParticleGun->SetParticleMomentumDirection(G4RandomDirection()); // ì…ìì›ì„ ì‹œë®¬ë ˆì´ì…˜ì— ì¶”ê°€ fParticleGun->GeneratePrimaryVertex(anEvent); } ``` ì´ê²ƒìœ¼ë¡œ PrimaryGeneratorAction.cc íŒŒì¼ì˜ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ˜Š
